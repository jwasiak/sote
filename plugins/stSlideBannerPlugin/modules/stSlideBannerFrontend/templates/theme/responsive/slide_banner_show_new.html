<div id="homepage-carousel{$group_name}" class="homepage-carousel-2">
    {if $count > 1}
        <a class="arrow-left {$group_name}left" href="#" ><span class="glyphicon glyphicon-chevron-left"></span></a>
        <a class="arrow-right {$group_name}right" href="#" ><span class="glyphicon glyphicon-chevron-right"></span></a>  
    {/if}
    <div class="swiper-container">
        <div class="swiper-wrapper">
            {foreach from=$banners item=banner name=slide}
                
                 <div  
                    {if $banner->getLink() && !$banner->getButtonLink()}
                        {if $banner->hasAbsoluteLink()}                            
                            onclick="window.open('{$banner->getLink()}', '_blank');"
                        {else}                            
                            onclick="window.open('{$banner->getLink()}', '_parent');"
                        {/if}
                          
                    {/if}
                    
                    {if $banner->getButtonLink()}
                        {if $banner->hasAbsoluteButtonLink()}                            
                            onclick="window.open('{$banner->getButtonLink()}', '_blank');"
                        {else}                            
                            onclick="window.open('{$banner->getButtonLink()}', '_parent');"
                        {/if}
                     {/if}                
                 class="swiper-slide swiper-slide-desktop" {if $banner->getImage()} style="background-image: url({st_asset_image_path image=$banner->getImagePath() type='thumb' for='slide'});"{/if}>
                    <div class="swiper-slide swiper-slide-mobile" {if $banner->getImageSmall()} style="background-image: url({st_asset_image_path image=$banner->getImageSmallPath() type='thumb' for='slide_mobile'});"{/if}>

                            <div class="caption {if $banner->getBannerDescriptionPosition()==0}dark{else}light{/if}"
                                 style="
                                 {if $banner->getBannerMarginLeft()!=""}margin-left:{$banner->getBannerMarginLeft()}%;{/if}
                                 {if $banner->getBannerMarginRight()!=""}margin-right:{$banner->getBannerMarginRight()}%;{/if}
                            ">
                                
                                <h2>{$banner->getBannerTitle()}</h2>
                                {$banner->getBannerDescription()}
                                
                                {if $banner->getButtonText()!=""}
                                <a class="btn btn-primary"                                 
                                 {if $banner->getButtonLink()}
                                    {if $banner->hasAbsoluteButtonLink()}                            
                                        onclick="window.open('{$banner->getButtonLink()}', '_blank');"
                                    {else}                            
                                        onclick="window.open('{$banner->getButtonLink()}', '_parent');"
                                    {/if}
                                {/if}  
                                >
                                    {$banner->getButtonText()}
                                </a>
                                {/if}
                                
                            </div>  
                    </div>
                </div>  
              
                          
                        
            {/foreach}
        </div>
        {if $count > 1}
            <div class="hidden-xs {$group_name}swiper-pagination"></div>
        {/if}
    </div>
</div>  

{if $count > 1}
    {literal}
    <script type="text/javascript">
    jQuery(function ($) {    
        $(document).ready(function() {
            
            var swiper = new Swiper('#homepage-carousel{/literal}{$group_name}{literal} .swiper-container', {                              
                pagination: '.{/literal}{$group_name}{literal}swiper-pagination',
                bulletClass: 'swiper-pagination-switch',
                bulletActiveClass: 'swiper-active-switch',
                loop:true,
                grabCursor: true,
                calculateHeight:true,
                paginationClickable: true,
                autoplayDisableOnInteraction: true,
                autoplay: 5000,
                nextButton: '.{/literal}{$group_name}{literal}right',
                prevButton: '.{/literal}{$group_name}{literal}left'
            });
        });   
    });
    </script>
    {/literal}
{/if}