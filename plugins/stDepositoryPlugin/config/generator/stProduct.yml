custom_actions: 
    list: [depository]

depository_list:
    use_stylesheet:         [backend/stProductList.css]
    use_helper:             [stProduct, stDepository]
    auto_width:             true
    filters:
        name:               {filter_field: product_i18n.name}
        list_stock:         {partial: depository_list_stock}
        avail:              {partial: avail_list_stock}
    description:            Zarządzanie produktami w sklepie. 
    title:                  Magazyn
    display:                [list_image, =name, _code, list_stock, _avail, active]
    peer_method:            doSelectWithI18n
    peer_count_method:      doCountWithI18n
    fields:
        list_image:         {name: Zdjęcie, callback: list_product_image}
        code:               {name: Kod, width: 10%, min_width: 80px}
        name:               {name: Nazwa, params: size=20, sort_field: product_i18n.name, width: 35%, callback: list_product_name}
        list_stock:         {name: Stan magazynowy, i18n: stDepositoryBackend, callback: list_stock, sort_field: "stDepositoryPluginListener::LIST_STOCK"}
        avail:              {name: Dostępność, i18n: stAvailabilityBackend}
        active:             {name: Aktywny}
    editable:
        list_stock:         {callback: list_stock_edit}
    actions:    {}
list:
    menu:
        display:                        [depository_list]
        fields:
            depository_list:            {name: Magazyn, action: stProduct/depositoryList, i18n: stDepositoryBackend}
config:
    display:
        "Dostępność/Magazyn":       [depository_enabled, get_depository, depository_basket]
    fields:
        depository_enabled:         {name: Włącz obsługę stanów magazynowych, type: checkbox, checked: true, help: Włącza automatyczne zarządzanie stanami magazynowymi, i18n: stDepositoryBackend }
        get_depository:
                    name:           Zdejmuj produkty z magazynu
                    type:           select
                    display:        [option1, option2]
                    i18n:           stDepositoryBackend
                    options:
                        option1:    {name: Po złożeniu zamówienia, value: order, i18n: stDepositoryBackend}
                        option2:    {name: Po zmianie statusu zamowienia na zrealizowane, value: order_status, i18n: stDepositoryBackend}
                        selected:   option1
        depository_basket:          {name: Sprawdzanie stanu magazynowego w koszyku, checked: false, type: checkbox, i18n: stDepositoryBackend}
        
export:
    fields:
        product_depository:         {name: Magazyn, class: stPropelProduct, type: string, i18n: stDepositoryBackend}

import:
    fields:
        product_depository:         {class: stPropelProduct, type: string}
