<?xml version="1.0" encoding="UTF-8"?>
<database defaultPhpNamingMethod="underscore" heavyIndexing="false" name="propel" defaultIdMethod="native" package="plugins.stDiscountPlugin.lib.model" noXsd="true"><table skipSql="false" abstract="false" name="st_discount" phpName="Discount"><column lazyLoad="false" name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="type" type="VARCHAR" size="1" required="true" default="P"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="price_type" type="VARCHAR" required="true" size="1" default="%"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="name" type="VARCHAR" size="64" required="true"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="value" type="DECIMAL" size="8" scale="2" default="0" required="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="conditions" type="VARCHAR" phpType="array" size="4096"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="priority" type="INTEGER" required="true" default="0"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="active" type="BOOLEAN" required="true" default="1"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="all_products" type="BOOLEAN" required="true" default="0"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="all_clients" type="BOOLEAN" required="true" default="0"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="allow_anonymous_clients" type="BOOLEAN" required="true" default="0"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="auto_active" type="BOOLEAN" required="true" default="0"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="product_id" type="INTEGER" required="false"/><foreign-key onUpdate="none" foreignTable="st_product" onDelete="cascade"><reference local="product_id" foreign="id"/></foreign-key><index name="discount_priority"><index-column name="priority"/></index><index name="discount_active"><index-column name="active"/></index></table><table skipSql="false" abstract="false" name="st_user_has_discount" phpName="UserHasDiscount"><column autoIncrement="false" lazyLoad="false" name="sf_guard_user_id" type="INTEGER" primaryKey="true" required="true"/><column autoIncrement="false" lazyLoad="false" name="discount_id" type="INTEGER" primaryKey="true" required="true"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="auto" type="BOOLEAN" required="true" default="0"/><foreign-key onUpdate="none" foreignTable="sf_guard_user" onDelete="cascade"><reference local="sf_guard_user_id" foreign="id"/></foreign-key><foreign-key onUpdate="none" foreignTable="st_discount" onDelete="cascade"><reference local="discount_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="st_discount_has_product" phpName="DiscountHasProduct"><column autoIncrement="false" lazyLoad="false" name="discount_id" type="INTEGER" primaryKey="true" required="true"/><column autoIncrement="false" lazyLoad="false" name="product_id" type="INTEGER" primaryKey="true" required="true"/><foreign-key onUpdate="none" foreignTable="st_discount" onDelete="cascade"><reference local="discount_id" foreign="id"/></foreign-key><foreign-key onUpdate="none" foreignTable="st_product" onDelete="cascade"><reference local="product_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="st_discount_range" phpName="DiscountRange"><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="timestamp"/><column lazyLoad="false" name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="discount_id" type="INTEGER" required="true"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="total_value" type="DOUBLE" required="true" default="0" change_column="range"/><foreign-key onUpdate="none" foreignTable="st_discount" onDelete="cascade"><reference local="discount_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="st_discount_user" phpName="DiscountUser"><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="sf_guard_user_id" type="INTEGER" required="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="discount" type="DOUBLE" default="0"/><column autoIncrement="false" lazyLoad="false" name="id" type="integer" required="true" primaryKey="true" autoincrement="true"/><foreign-key onUpdate="none" foreignTable="sf_guard_user" onDelete="cascade"><reference local="sf_guard_user_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="st_discount_coupon_code" phpName="DiscountCouponCode"><column lazyLoad="false" name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="sf_guard_user_id" type="INTEGER"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="order_id" type="INTEGER"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="code" type="VARCHAR" size="16" required="true"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="used" type="INTEGER" required="true" default="0"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="valid_usage" type="INTEGER" required="true" default="0"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="allow_all_products" type="BOOLEAN" required="false"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="valid_from" type="TIMESTAMP"/><column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="valid_to" type="TIMESTAMP"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="discount" type="DECIMAL" size="3" scale="1" required="true" default="0"/><foreign-key onUpdate="none" foreignTable="sf_guard_user" onDelete="cascade"><reference local="sf_guard_user_id" foreign="id"/></foreign-key><foreign-key onUpdate="none" foreignTable="st_order" onDelete="cascade"><reference local="order_id" foreign="id"/></foreign-key><unique name="discount_coupon_code_index1"><unique-column name="code"/></unique></table><table skipSql="false" abstract="false" name="st_discount_has_producer" phpName="DiscountHasProducer"><column autoIncrement="false" lazyLoad="false" name="discount_id" type="INTEGER" primaryKey="true" required="true"/><column autoIncrement="false" lazyLoad="false" name="producer_id" type="INTEGER" primaryKey="true" required="true"/><foreign-key onUpdate="none" foreignTable="st_discount" onDelete="cascade"><reference local="discount_id" foreign="id"/></foreign-key><foreign-key onUpdate="none" foreignTable="st_producer" onDelete="cascade"><reference local="producer_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="st_discount_has_category" phpName="DiscountHasCategory"><column autoIncrement="false" lazyLoad="false" name="discount_id" type="INTEGER" primaryKey="true" required="true"/><column autoIncrement="false" lazyLoad="false" name="category_id" type="INTEGER" primaryKey="true" required="true"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="is_opt" type="BOOLEAN" default="0" required="true"/><foreign-key onUpdate="none" foreignTable="st_discount" onDelete="cascade"><reference local="discount_id" foreign="id"/></foreign-key><foreign-key onUpdate="none" foreignTable="st_category" onDelete="cascade"><reference local="category_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="st_discount_coupon_code_has_producer" phpName="DiscountCouponCodeHasProducer"><column autoIncrement="false" lazyLoad="false" name="discount_coupon_code_id" type="INTEGER" primaryKey="true" required="true"/><column autoIncrement="false" lazyLoad="false" name="producer_id" type="INTEGER" primaryKey="true" required="true"/><foreign-key onUpdate="none" foreignTable="st_discount_coupon_code" onDelete="cascade"><reference local="discount_coupon_code_id" foreign="id"/></foreign-key><foreign-key onUpdate="none" foreignTable="st_producer" onDelete="cascade"><reference local="producer_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="st_discount_coupon_code_has_category" phpName="DiscountCouponCodeHasCategory"><column autoIncrement="false" lazyLoad="false" name="discount_coupon_code_id" type="INTEGER" primaryKey="true" required="true"/><column autoIncrement="false" lazyLoad="false" name="category_id" type="INTEGER" primaryKey="true" required="true"/><column primaryKey="false" autoIncrement="false" lazyLoad="false" name="is_opt" type="BOOLEAN" default="0" required="true"/><foreign-key onUpdate="none" foreignTable="st_discount_coupon_code" onDelete="cascade"><reference local="discount_coupon_code_id" foreign="id"/></foreign-key><foreign-key onUpdate="none" foreignTable="st_category" onDelete="cascade"><reference local="category_id" foreign="id"/></foreign-key></table><table skipSql="false" abstract="false" name="st_discount_coupon_code_has_product" phpName="DiscountCouponCodeHasProduct"><column autoIncrement="false" lazyLoad="false" name="discount_coupon_code_id" type="INTEGER" primaryKey="true" required="true"/><column autoIncrement="false" lazyLoad="false" name="product_id" type="INTEGER" primaryKey="true" required="true"/><foreign-key onUpdate="none" foreignTable="st_discount_coupon_code" onDelete="cascade"><reference local="discount_coupon_code_id" foreign="id"/></foreign-key><foreign-key onUpdate="none" foreignTable="st_product" onDelete="cascade"><reference local="product_id" foreign="id"/></foreign-key></table></database>
