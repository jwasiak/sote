<?xml version="1.0" encoding="UTF-8"?>
<database name="propel" defaultIdMethod="native" package="lib.model" noXsd="true">

  <table name="st_product" phpName="Product" isI18N="true" i18nTable="st_product_i18n">
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true" />
    <column name="parent_id" type="INTEGER" />
    <foreign-key foreignTable="st_product" onDelete="setnull">
      <reference local="parent_id" foreign="id" />
    </foreign-key>
    <column name="currency_id" type="INTEGER" />
    <foreign-key foreignTable="st_currency" onDelete="setnull">
      <reference local="currency_id" foreign="id" />
    </foreign-key>
    <column name="producer_id" type="INTEGER" />
    <foreign-key foreignTable="st_producer" onDelete="setnull">
      <reference local="producer_id" foreign="id" />
    </foreign-key>
    <column name="code" type="VARCHAR" size="255" required="true" />
    <column name="price" type="DECIMAL" size="10" scale="2" required="true" />
    <column name="opt_price_brutto" type="DECIMAL" size="10" scale="2" required="true" />
    <column name="delivery_price" type="DECIMAL" size="10" scale="2" />
    <column name="bpum_default_id" type="INTEGER" required="false" />
    <foreign-key foreignTable="st_basic_price_unit_measure" onDelete="setnull">
      <reference local="bpum_default_id" foreign="id" />
    </foreign-key>
    <column name="bpum_default_value" type="DECIMAL" size="10" scale="2" />
    <column name="bpum_id" type="INTEGER" required="false" />
    <foreign-key foreignTable="st_basic_price_unit_measure" onDelete="setnull">
      <reference local="bpum_id" foreign="id" />
    </foreign-key>
    <column name="bpum_value" type="DECIMAL" size="10" scale="2" />
    <column name="currency_price" type="DECIMAL" size="10" scale="2" />
    <column name="old_price" type="DECIMAL" size="10" scale="2" />
    <column name="opt_old_price_brutto" type="DECIMAL" size="10" scale="2" />
    <column name="points_value" type="INTEGER" default="0" />
    <column name="points_earn" type="INTEGER" default="0" />
    <column name="points_only" type="BOOLEAN" default="" />
    <column name="currency_old_price" type="DECIMAL" size="10" scale="2" />
    <column name="opt_vat" type="DECIMAL" size="5" scale="2" change_column="vat" />
    <column name="currency_exchange" type="DECIMAL" size="6" scale="4" default="1" />
    <column name="active" type="BOOLEAN" default="1" />
    <column name="hide_price" type="TINYINT" default="null" />
    <column name="has_fixed_currency" type="BOOLEAN" default="" />
    <column name="opt_image" type="VARCHAR" size="255" />
    <column name="opt_name" type="VARCHAR" size="255" change_column="name" />
    <column name="opt_short_description" type="LONGVARCHAR" change_column="short_description" />
    <column name="opt_description" type="MEDIUMTEXT" change_column="description" />
    <column name="opt_url" type="VARCHAR" size="255" />
    <column name="opt_asset_folder" type="VARCHAR" size="32" />
    <column name="opt_uom" type="VARCHAR" size="10" />
    <column name="deliveries" type="VARCHAR" size="1024" phpType="array" required="false" />
    <column name="min_qty" type="DECIMAL" size="8" scale="2" default="1" />
    <column name="max_qty" type="DECIMAL" size="8" scale="2" default="0" />
    <column name="step_qty" type="DECIMAL" size="8" scale="2" default="0" />
    <column name="is_stock_validated" type="BOOLEAN" />
    <column name="is_gift" type="INTEGER" required="true" default="0" />
    <column name="is_service" type="BOOLEAN" required="true" default="0" />
    <column name="stock_in_decimals" type="TINYINT" default="0" />
    <column name="man_code" type="VARCHAR" size="20" />
    <column name="main_page_order" type="INTEGER" default="0" />
    <column name="priority" type="INTEGER" default="0" />
    <column name="stock_managment" type="TINYINT" default="0" />
    <column name="dimension_id" type="INTEGER" required="false" />
    <foreign-key foreignTable="st_product_dimension" onDelete="setnull">
      <reference local="dimension_id" foreign="id" />
    </foreign-key>
    <column name="width" type="FLOAT" default="0" required="true" />
    <column name="height" type="FLOAT" default="0" required="true" />
    <column name="depth" type="FLOAT" default="0" required="true" />
    <column name="opt_product_group" type="LONGVARCHAR" />
    <column name="opt_execution_time" type="VARCHAR" size="64" />
    <column name="availability_id" type="INTEGER" />
    <foreign-key foreignTable="st_availability" onDelete="setnull">
      <reference local="availability_id" foreign="id" />
    </foreign-key>
    <column name="weight" type="FLOAT" />
    <column name="stock" type="DECIMAL" size="8" scale="2" default="1" />
    <column name="max_discount" type="DOUBLE" default="100" />
    <column name="mpn_code" type="VARCHAR" size="255" />
    <column name="group_price_id" type="INTEGER" />
    <foreign-key foreignTable="st_group_price" onDelete="setnull">
      <reference local="group_price_id" foreign="id" />
    </foreign-key>
    <column name="opt_has_options" type="INTEGER" />
    <column name="options_color" type="LONGVARCHAR" phpType="array" />
    <column name="tax_id" type="INTEGER" required="false" />
    <foreign-key foreignTable="st_tax" onDelete="setnull">
      <reference local="tax_id" foreign="id" />
    </foreign-key>
    <column name="wholesale_a_netto" type="DECIMAL" size="10" scale="2" required="true" default="0" />
    <column name="wholesale_b_netto" type="DECIMAL" size="10" scale="2" required="true" default="0" />
    <column name="wholesale_c_netto" type="DECIMAL" size="10" scale="2" required="true" default="0" />
    <column name="wholesale_a_brutto" type="DECIMAL" size="10" scale="2" required="true" default="0" />
    <column name="wholesale_b_brutto" type="DECIMAL" size="10" scale="2" required="true" default="0" />
    <column name="wholesale_c_brutto" type="DECIMAL" size="10" scale="2" required="true" default="0" />
    <column name="currency_wholesale_a" type="DECIMAL" size="10" scale="2" required="false" />
    <column name="currency_wholesale_b" type="DECIMAL" size="10" scale="2" required="false" />
    <column name="currency_wholesale_c" type="DECIMAL" size="10" scale="2" required="false" />
    <index name="bpum_default_idx">
      <index-column name="bpum_default_id" />
    </index>
    <index name="bpum_idx">
      <index-column name="bpum_id" />
    </index>
    <index name="dimension_idx">
      <index-column name="dimension_id" />
    </index>
    <index name="product_fk_currency_id">
      <index-column name="currency_id" />
    </index>
    <index name="parent_id_Index">
      <index-column name="parent_id" />
    </index>
    <index name="group_price_idx">
      <index-column name="group_price_id" />
    </index>
    <unique name="product_code">
      <unique-column name="code" />
    </unique>
  </table>

  <table name="st_product_has_category" phpName="ProductHasCategory">
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true" />
    <column name="category_id" type="INTEGER" required="true" />
    <foreign-key foreignTable="st_category" onDelete="cascade">
      <reference local="category_id" foreign="id" />
    </foreign-key>
    <column name="product_id" type="INTEGER" required="true" />
    <foreign-key foreignTable="st_product" onDelete="cascade">
      <reference local="product_id" foreign="id" />
    </foreign-key>
    <column name="is_default" type="BOOLEAN" default="0" />
  </table>

  <table name="st_product_has_sf_asset" phpName="ProductHasSfAsset">
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true" />
    <column name="sf_asset_id" type="INTEGER" required="true" />
    <foreign-key foreignTable="sf_asset" onDelete="cascade">
      <reference local="sf_asset_id" foreign="id" />
    </foreign-key>
    <column name="product_id" type="INTEGER" required="true" />
    <foreign-key foreignTable="st_product" onDelete="cascade">
      <reference local="product_id" foreign="id" />
    </foreign-key>
    <column name="is_default" type="BOOLEAN" default="" />
  </table>

  <table name="st_product_has_attachment" phpName="ProductHasAttachment">
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true" />
    <column name="language_id" type="INTEGER" required="true" />
    <foreign-key foreignTable="st_language" onDelete="setnull">
      <reference local="language_id" foreign="id" />
    </foreign-key>
    <column name="sf_asset_id" type="INTEGER" required="true" />
    <foreign-key foreignTable="sf_asset" onDelete="cascade">
      <reference local="sf_asset_id" foreign="id" />
    </foreign-key>
    <column name="product_id" type="INTEGER" required="true" />
    <foreign-key foreignTable="st_product" onDelete="cascade">
      <reference local="product_id" foreign="id" />
    </foreign-key>
    <column name="is_active" type="BOOLEAN" default="1" />
    <column name="opt_culture" type="VARCHAR" size="7" />
  </table>

  <table name="st_product_has_recommend" phpName="ProductHasRecommend">
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true" />
    <column name="recommend_id" type="INTEGER" required="true" primaryKey="true" />
    <foreign-key foreignTable="st_product" onDelete="restrict">
      <reference local="recommend_id" foreign="id" />
    </foreign-key>
    <column name="product_id" type="INTEGER" required="true" primaryKey="true" />
    <foreign-key foreignTable="st_product" onDelete="restrict">
      <reference local="product_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="st_product_dimension" phpName="ProductDimension">
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true" />
    <column name="name" type="VARCHAR" size="64" />
    <column name="width" type="FLOAT" default="0" required="true" />
    <column name="height" type="FLOAT" default="0" required="true" />
    <column name="depth" type="FLOAT" default="0" required="true" />
  </table>

  <table name="st_product_i18n" phpName="ProductI18n">
    <column name="id" type="integer" required="true" primaryKey="true" />
    <foreign-key foreignTable="st_product" onDelete="cascade">
      <reference local="id" foreign="id" />
    </foreign-key>
    <column name="culture" isCulture="true" primaryKey="true" type="VARCHAR" size="7" />
    <column name="name" type="VARCHAR" size="255" />
    <column name="short_description" type="LONGVARCHAR" />
    <column name="description" type="MEDIUMTEXT" />
    <column name="search_keywords" type="LONGVARCHAR" />
    <column name="url" type="VARCHAR" size="255" />
    <column name="uom" type="VARCHAR" size="10" />
    <column name="execution_time" type="VARCHAR" size="64" />
    <column name="description2" type="MEDIUMTEXT" />
    <column name="attributes_label" type="VARCHAR" size="48" />
    <index name="product_Index1">
      <index-column name="url" />
      <index-column name="culture" />
    </index>
  </table>

</database>
