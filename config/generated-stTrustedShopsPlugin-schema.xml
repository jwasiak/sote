<?xml version="1.0" encoding="UTF-8"?>
<database name="propel" defaultIdMethod="native" package="plugins.stTrustedShopsPlugin.lib.model" noXsd="true">

  <table name="st_trusted_shops" phpName="TrustedShops">
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true" />
    <column name="certificate" type="VARCHAR" size="255" />
    <column name="username" type="VARCHAR" size="255" />
    <column name="password" type="VARCHAR" size="255" />
    <column name="type" type="VARCHAR" size="20" />
    <column name="url" type="VARCHAR" size="255" />
    <column name="language" type="VARCHAR" size="2" />
    <column name="status" type="VARCHAR" size="255" />
    <column name="logo" type="BOOLEAN" />
    <column name="rating_widget" type="BOOLEAN" />
    <column name="rating_status" type="BOOLEAN" />
    <column name="rating_in_order_mail" type="BOOLEAN" />
    <column name="trustbadge_code" type="LONGVARCHAR" />
  </table>

  <table name="st_trusted_shops_has_payment_type" phpName="TrustedShopsHasPaymentType">
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="trusted_shops_id" type="INTEGER" primaryKey="true" required="true" />
    <foreign-key foreignTable="st_trusted_shops" onDelete="cascade">
      <reference local="trusted_shops_id" foreign="id" />
    </foreign-key>
    <column name="payment_type_id" type="INTEGER" primaryKey="true" required="true" />
    <foreign-key foreignTable="st_payment_type" onDelete="restrict">
      <reference local="payment_type_id" foreign="id" />
    </foreign-key>
    <column name="method" type="VARCHAR" size="255" />
  </table>

  <table name="st_trusted_shops_protection_products" phpName="TrustedShopsProtectionProducts">
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true" />
    <column name="trusted_shops_id" type="INTEGER" required="true" />
    <foreign-key foreignTable="st_trusted_shops" onDelete="cascade">
      <reference local="trusted_shops_id" foreign="id" />
    </foreign-key>
    <column name="currency" type="VARCHAR" size="5" />
    <column name="gross" type="DECIMAL" size="10" scale="2" />
    <column name="netto" type="DECIMAL" size="10" scale="2" />
    <column name="amount" type="DECIMAL" size="10" scale="2" />
    <column name="duration" type="INTEGER" />
    <column name="product_id" type="VARCHAR" size="255" />
  </table>

  <table name="st_trusted_shops_has_order" phpName="TrustedShopsHasOrder">
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="trusted_shops_id" type="INTEGER" primaryKey="true" required="true" />
    <foreign-key foreignTable="st_trusted_shops" onDelete="restrict">
      <reference local="trusted_shops_id" foreign="id" />
    </foreign-key>
    <column name="order_id" type="INTEGER" primaryKey="true" required="true" />
    <foreign-key foreignTable="st_order" onDelete="restrict">
      <reference local="order_id" foreign="id" />
    </foreign-key>
    <column name="status" type="VARCHAR" size="255" />
    <column name="checked" type="BOOLEAN" />
  </table>

</database>
