<?xml version="1.0" encoding="UTF-8"?>
<database name="propel" defaultIdMethod="native" package="lib.model" noXsd="true">

  <table name="st_basket" phpName="Basket">
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true" />
    <column name="sf_guard_user_id" type="INTEGER" required="false" />
    <foreign-key foreignTable="sf_guard_user" onDelete="cascade">
      <reference local="sf_guard_user_id" foreign="id" />
    </foreign-key>
    <column name="discount_coupon_code_id" type="INTEGER" required="false" />
    <foreign-key foreignTable="st_discount_coupon_code">
      <reference local="discount_coupon_code_id" foreign="id" />
    </foreign-key>
    <column name="is_default" type="BOOLEAN" />
    <column name="hash_code" type="VARCHAR" size="32" />
  </table>

  <table name="st_basket_product" phpName="BasketProduct">
    <column name="created_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="id" type="INTEGER" primaryKey="true" required="true" autoIncrement="true" />
    <column name="product_id" type="INTEGER" required="true" default="0" />
    <foreign-key foreignTable="st_product" onDelete="cascade">
      <reference local="product_id" foreign="id" />
    </foreign-key>
    <column name="product_set_discount_id" type="INTEGER" />
    <column name="basket_id" type="INTEGER" required="true" />
    <foreign-key foreignTable="st_basket" onDelete="cascade">
      <reference local="basket_id" foreign="id" />
    </foreign-key>
    <column name="is_gift" type="BOOLEAN" required="true" default="" />
    <column name="quantity" type="DECIMAL" size="8" scale="2" />
    <column name="max_quantity" type="DECIMAL" size="8" scale="2" />
    <column name="code" type="VARCHAR" size="255" />
    <column name="name" type="VARCHAR" size="255" />
    <column name="image" type="VARCHAR" size="255" />
    <column name="item_id" type="VARCHAR" size="32" />
    <column name="price" type="DECIMAL" size="10" scale="2" />
    <column name="price_brutto" type="DECIMAL" size="10" scale="2" />
    <column name="vat" type="FLOAT" />
    <column name="weight" type="FLOAT" />
    <column name="product_for_points" type="BOOLEAN" default="0" required="true" />
    <column name="price_modifiers" type="LONGVARCHAR" phpType="array" />
    <column name="discount" type="VARCHAR" size="1024" phpType="array" />
    <column name="currency" type="VARCHAR" size="1024" phpType="array" />
    <column name="wholesale" type="VARCHAR" size="1024" phpType="array" />
    <column name="options" type="VARCHAR" size="255" />
    <column name="new_options" type="LONGVARCHAR" phpType="array" />
    <index name="product_set_discount_idx">
      <index-column name="product_set_discount_id" />
    </index>
  </table>

</database>
